import 'package:flutter/material.dart';\nimport 'package:flutter/services.dart';\nimport '../models/credit_card.dart';\n\nclass CardDetailScreen extends StatefulWidget {\n  final CreditCard card;\n\n  const CardDetailScreen({super.key, required this.card});\n\n  @override\n  State<CardDetailScreen> createState() => _CardDetailScreenState();\n}\n\nclass _CardDetailScreenState extends State<CardDetailScreen> {\n  bool _showConfidentialData = false;\n\n  void _copyToClipboard(String text, String label) {\n    Clipboard.setData(ClipboardData(text: text));\n    ScaffoldMessenger.of(context).showSnackBar(\n      SnackBar(\n        content: Text('$label copied to clipboard'),\n        duration: const Duration(seconds: 2),\n      ),\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Card Details'),\n        centerTitle: true,\n      ),\n      body: SingleChildScrollView(\n        child: Padding(\n          padding: const EdgeInsets.all(16.0),\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              // Card Preview Section\n              Container(\n                width: double.infinity,\n                height: 200,\n                decoration: BoxDecoration(\n                  gradient: LinearGradient(\n                    colors: [\n                      Colors.deepPurple.shade700,\n                      Colors.deepPurple.shade400,\n                    ],\n                    begin: Alignment.topLeft,\n                    end: Alignment.bottomRight,\n                  ),\n                  borderRadius: BorderRadius.circular(16),\n                  boxShadow: [\n                    BoxShadow(\n                      color: Colors.black.withOpacity(0.3),\n                      blurRadius: 10,\n                      offset: const Offset(0, 5),\n                    ),\n                  ],\n                ),\n                child: Padding(\n                  padding: const EdgeInsets.all(20.0),\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.start,\n                    mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                    children: [\n                      Row(\n                        mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                        children: [\n                          Text(\n                            widget.card.bankName,\n                            style: const TextStyle(\n                              color: Colors.white,\n                              fontSize: 18,\n                              fontWeight: FontWeight.bold,\n                            ),\n                          ),\n                          const Icon(\n                            Icons.credit_card,\n                            color: Colors.white,\n                            size: 40,\n                          ),\n                        ],\n                      ),\n                      const SizedBox(height: 20),\n                      Text(\n                        widget.card.cardNumber,\n                        style: const TextStyle(\n                          color: Colors.white,\n                          fontSize: 20,\n                          letterSpacing: 2,\n                        ),\n                      ),\n                      const SizedBox(height: 10),\n                      Row(\n                        mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                        children: [\n                          Column(\n                            crossAxisAlignment: CrossAxisAlignment.start,\n                            children: [\n                              const Text(\n                                'CARD HOLDER',\n                                style: TextStyle(\n                                  color: Colors.white70,\n                                  fontSize: 10,\n                                ),\n                              ),\n                              Text(\n                                widget.card.cardName,\n                                style: const TextStyle(\n                                  color: Colors.white,\n                                  fontSize: 14,\n                                  fontWeight: FontWeight.bold,\n                                ),\n                              ),\n                            ],\n                          ),\n                          Column(\n                            crossAxisAlignment: CrossAxisAlignment.start,\n                            children: [\n                              const Text(\n                                'EXPIRES',\n                                style: TextStyle(\n                                  color: Colors.white70,\n                                  fontSize: 10,\n                                ),\n                              ),\n                              Text(\n                                widget.card.expiryDate,\n                                style: const TextStyle(\n                                  color: Colors.white,\n                                  fontSize: 14,\n                                  fontWeight: FontWeight.bold,\n                                ),\n                              ),\n                            ],\n                          ),\n                        ],\n                      ),\n                    ],\n                  ),\n                ),\n              ),\n              const SizedBox(height: 24),\n\n              // Card Information Section\n              _buildSectionTitle('Card Information'),\n              const SizedBox(height: 12),\n              _buildInfoRow('Card Name', widget.card.cardName),\n              _buildInfoRow('Bank', widget.card.bankName),\n              _buildInfoRow('Type', widget.card.cardType),\n              _buildInfoRow('Annual Fee', '\$${widget.card.annualFee.toStringAsFixed(2)}'),\n              const SizedBox(height: 24),\n\n              // Benefits Section\n              _buildSectionTitle('Benefits & Rewards'),\n              const SizedBox(height: 12),\n              ...widget.card.benefits.map((benefit) => Padding(\n                padding: const EdgeInsets.only(bottom: 8.0),\n                child: Row(\n                  crossAxisAlignment: CrossAxisAlignment.start,\n                  children: [\n                    const Icon(\n                      Icons.check_circle,\n                      color: Colors.green,\n                      size: 20,\n                    ),\n                    const SizedBox(width: 8),\n                    Expanded(\n                      child: Text(\n                        benefit,\n                        style: const TextStyle(fontSize: 14),\n                      ),\n                    ),\n                  ],\n                ),\n              )),\n              const SizedBox(height: 24),\n\n              // Tags Section\n              _buildSectionTitle('Tags'),\n              const SizedBox(height: 12),\n              Wrap(\n                spacing: 8,\n                runSpacing: 8,\n                children: widget.card.tags.map((tag) => Chip(\n                  label: Text(tag),\n                  backgroundColor: Colors.deepPurple.shade100,\n                  labelStyle: TextStyle(\n                    color: Colors.deepPurple.shade900,\n                    fontWeight: FontWeight.w600,\n                  ),\n                )).toList(),\n              ),\n              const SizedBox(height: 24),\n\n              // Confidential Data Section\n              _buildSectionTitle('Confidential Information'),\n              const SizedBox(height: 12),\n              Card(\n                elevation: 2,\n                child: Padding(\n                  padding: const EdgeInsets.all(16.0),\n                  child: Column(\n                    children: [\n                      Row(\n                        mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                        children: [\n                          const Text(\n                            'Show Sensitive Data',\n                            style: TextStyle(\n                              fontSize: 16,\n                              fontWeight: FontWeight.w600,\n                            ),\n                          ),\n                          Switch(\n                            value: _showConfidentialData,\n                            onChanged: (value) {\n                              setState(() {\n                                _showConfidentialData = value;\n                              });\n                            },\n                          ),\n                        ],\n                      ),\n                      if (_showConfidentialData) ..[\n                        const Divider(),\n                        const SizedBox(height: 8),\n                        _buildConfidentialRow(\n                          'Card Number',\n                          widget.card.cardNumber,\n                          Icons.credit_card,\n                        ),\n                        const SizedBox(height: 12),\n                        _buildConfidentialRow(\n                          'Expiry Date',\n                          widget.card.expiryDate,\n                          Icons.calendar_today,\n                        ),\n                        const SizedBox(height: 12),\n                        _buildConfidentialRow(\n                          'CVV',\n                          widget.card.cvv,\n                          Icons.lock,\n                        ),\n                      ],\n                    ],\n                  ),\n                ),\n              ),\n              const SizedBox(height: 24),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n\n  Widget _buildSectionTitle(String title) {\n    return Text(\n      title,\n      style: const TextStyle(\n        fontSize: 20,\n        fontWeight: FontWeight.bold,\n      ),\n    );\n  }\n\n  Widget _buildInfoRow(String label, String value) {\n    return Padding(\n      padding: const EdgeInsets.only(bottom: 12.0),\n      child: Row(\n        mainAxisAlignment: MainAxisAlignment.spaceBetween,\n        children: [\n          Text(\n            label,\n            style: TextStyle(\n              fontSize: 14,\n              color: Colors.grey.shade400,\n            ),\n          ),\n          Text(\n            value,\n            style: const TextStyle(\n              fontSize: 14,\n              fontWeight: FontWeight.w600,\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildConfidentialRow(String label, String value, IconData icon) {\n    return Row(\n      children: [\n        Icon(icon, size: 20, color: Colors.deepPurple),\n        const SizedBox(width: 12),\n        Expanded(\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              Text(\n                label,\n                style: TextStyle(\n                  fontSize: 12,\n                  color: Colors.grey.shade400,\n                ),\n              ),\n              const SizedBox(height: 4),\n              Text(\n                value,\n                style: const TextStyle(\n                  fontSize: 16,\n                  fontWeight: FontWeight.w600,\n                  letterSpacing: 1,\n                ),\n              ),\n            ],\n          ),\n        ),\n        IconButton(\n          icon: const Icon(Icons.copy),\n          onPressed: () => _copyToClipboard(value, label),\n          tooltip: 'Copy $label',\n        ),\n      ],\n    );\n  }\n}